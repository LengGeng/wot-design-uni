import{d as a,r as s,v as o,q as e,h as l,j as t,o as n,c,w as i,x as d,p as u,a as r,y as m,u as p,T as y,e as f,F as _,b as g,t as k,n as v,i as w,Y as b,g as C}from"./index-d8aee22c.js";import{g as h,l as $,i as x,p as I,c as S,b as j}from"./page-wraper.83fcb5aa.js";import{u as V}from"./useTranslate.cac5ae85.js";const T=j(a({name:"wd-tag",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...h,useIconSlot:$(!1),type:x("default"),icon:x(""),closable:$(!1),plain:$(!1),dynamic:$(!1),color:x(""),bgColor:x(""),round:$(!1),mark:$(!1)},emits:["click","close","confirm"],setup(a,{emit:h}){const $=a,{translate:x}=V("tag"),j=s(""),T=s(""),q=s(!1);o([()=>$.useIconSlot,()=>$.icon,()=>$.plain,()=>$.dynamic,()=>$.round,()=>$.mark],(()=>{H()}),{deep:!0,immediate:!0}),o((()=>$.type),(a=>{if(!a)return;const s=["primary","danger","warning","success","default"];-1===s.indexOf(a)&&console.error(`type must be one of ${s.toString()}`),H()}),{deep:!0,immediate:!0}),o((()=>q.value),(()=>{H()}),{deep:!0,immediate:!0});const B=e((()=>`wd-tag ${$.customClass} ${j.value}`)),F=e((()=>{const a={};return!$.plain&&$.bgColor&&(a.background=$.bgColor),$.bgColor&&(a["border-color"]=$.bgColor),`${I(a)};${$.customStyle}`})),G=e((()=>{const a={};return $.color&&(a.color=$.color),I(a)}));function H(){const{type:a,plain:s,round:o,mark:e,dynamic:l,icon:t,useIconSlot:n}=$;let c=[];a&&c.push(`is-${a}`),s&&c.push("is-plain"),o&&c.push("is-round"),e&&c.push("is-mark"),l&&c.push("is-dynamic"),q.value&&c.push("is-dynamic-input"),(t||n)&&c.push("is-icon"),j.value=c.join(" ")}function O(a){h("click",a)}function U(a){h("close",a)}function Y(){q.value=!0,T.value=""}function z(){D()}function A(a){D(),h("confirm",{value:a.detail.value})}function D(){q.value=!1}return(a,s)=>{const o=w,e=l(t("wd-icon"),S),h=b,$=C;return n(),c(o,{class:v(p(B)),style:m(p(F)),onClick:O},{default:i((()=>[a.useIconSlot?(n(),c(o,{key:0,class:"wd-tag__icon"},{default:i((()=>[d(a.$slots,"icon",{},void 0,!0)])),_:3})):a.icon?(n(),c(e,{key:1,name:a.icon,"custom-class":"wd-tag__icon"},null,8,["name"])):u("",!0),r(o,{class:"wd-tag__text",style:m(p(G))},{default:i((()=>[d(a.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),a.closable&&a.round?(n(),c(o,{key:2,class:"wd-tag__close",onClick:y(U,["stop"])},{default:i((()=>[r(e,{name:"error-fill"})])),_:1},8,["onClick"])):u("",!0),q.value&&a.dynamic?(n(),c(h,{key:3,class:"wd-tag__add-text",placeholder:p(x)("placeholder"),type:"text",focus:"true",modelValue:T.value,"onUpdate:modelValue":s[0]||(s[0]=a=>T.value=a),onBlur:z,onConfirm:A},null,8,["placeholder","modelValue"])):a.dynamic?(n(),c(o,{key:4,class:"wd-tag__text",style:m(p(G)),onClick:y(Y,["stop"])},{default:i((()=>[a.$slots.add?d(a.$slots,"add",{key:0},void 0,!0):(n(),f(_,{key:1},[r(e,{name:"add","custom-class":"wd-tag__add wd-tag__icon"}),r($,null,{default:i((()=>[g(k(p(x)("add")),1)])),_:1})],64))])),_:3},8,["style","onClick"])):u("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-1e68add5"]]);export{T as _};
