import{d as e,N as o,r as s,v as t,m as a,Q as l,S as n,h as c,j as r,o as u,c as p,w as i,a as d,n as m,b as _,t as v,p as y,e as w,F as f,f as k,u as C,y as b,x as h,T as S,J as g,i as j,g as x}from"./index-d8aee22c.js";import{g as A,i as $,l as Q,m as T,c as P,j as V,r as F,b as O}from"./page-wraper.83fcb5aa.js";import{u as I}from"./usePopover.7ad8f302.js";import{r as q,q as G,c as H,p as J}from"./clickoutside.f4a6258f.js";const N=O(e({name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...A,customArrow:$(""),customPop:$(""),visibleArrow:Q(!0),content:[String,Object],placement:$("bottom"),offset:T(0),useContentSlot:Q(!1),disabled:Q(!1),showClose:Q(!1),modelValue:Q(!1),mode:$("normal")},emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:A,emit:$}){const Q=e,T=o(G,null),O="popover",{proxy:N}=g(),z=I(),B=s(!1);function D(e){K(!1),$("menuclick",{item:Q.content[e],index:e})}function E(){Q.disabled||K(!B.value)}function K(e){B.value=e,$("update:modelValue",e)}return t((()=>Q.content),(e=>{const{mode:o}=Q;"normal"===o&&"string"!=typeof e?console.error("The value type must be a string type in normal mode"):"menu"!==o||F(e)||console.error("The value type must be a Array type in menu mode")})),t((()=>Q.placement),(()=>{z.init(Q.placement,Q.visibleArrow,O)})),t((()=>Q.modelValue),(e=>{B.value=e})),t((()=>B.value),(e=>{e&&(z.control(Q.placement,Q.offset),T&&T.closeOther?T.closeOther(N):H(N)),z.showStyle.value=e?"display: inline-block;":"display: none;",$("change",{show:e}),$(""+(e?"open":"close"))})),a((()=>{z.init(Q.placement,Q.visibleArrow,O)})),l((()=>{T&&T.pushToQueue?T.pushToQueue(N):J(N),z.showStyle.value=B.value?"opacity: 1;":"opacity: 0;"})),n((()=>{T&&T.removeFromQueue?T.removeFromQueue(N):q(N)})),A({open:function(){K(!0)},close:function(){K(!1)}}),(e,o)=>{const s=j,t=c(r("wd-icon"),P),a=x,l=c(r("wd-transition"),V);return u(),p(s,{class:m(`wd-popover ${e.customClass}`),style:b(e.customStyle),id:"popover",onClick:S(C(z).noop,["stop"])},{default:i((()=>[d(s,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:i((()=>[d(s,{class:m(`wd-popover__container ${e.customPop}`)},{default:i((()=>[e.useContentSlot||"normal"!==e.mode?y("",!0):(u(),p(s,{key:0,class:"wd-popover__inner"},{default:i((()=>[_(v(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?y("",!0):(u(),p(s,{key:1,class:"wd-popover__menu"},{default:i((()=>[(u(!0),w(f,null,k(e.content,((e,o)=>(u(),p(s,{key:o,class:"wd-popover__menu-inner",onClick:e=>D(o)},{default:i((()=>[e.iconClass?(u(),p(t,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):y("",!0),d(a,null,{default:i((()=>[_(v(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),d(l,{"custom-class":"wd-popover__pos","custom-style":C(z).popStyle.value,show:B.value,name:"fade",duration:200},{default:i((()=>[d(s,{class:m(`wd-popover__container ${e.customPop}`)},{default:i((()=>[Q.visibleArrow?(u(),p(s,{key:0,class:m(`wd-popover__arrow ${C(z).arrowClass.value} ${e.customArrow}`),style:b(C(z).arrowStyle.value)},null,8,["class","style"])):y("",!0),e.useContentSlot||"normal"!==e.mode?y("",!0):(u(),p(s,{key:1,class:"wd-popover__inner"},{default:i((()=>[_(v(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?h(e.$slots,"content",{key:3},void 0,!0):(u(),p(s,{key:2,class:"wd-popover__menu"},{default:i((()=>[(u(!0),w(f,null,k(e.content,((e,o)=>(u(),p(s,{key:o,class:"wd-popover__menu-inner",onClick:e=>D(o),style:b(0===o?"border-top: none":"")},{default:i((()=>["object"==typeof e&&e.iconClass?(u(),p(t,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):y("",!0),d(s,{style:{display:"inline-block"}},{default:i((()=>[_(v("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(u(),p(t,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:E})):y("",!0)])),_:3},8,["custom-style","show"]),d(s,{onClick:E,class:"wd-popover__target",id:"target"},{default:i((()=>[h(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-b98ba130"]]);export{N as _};
