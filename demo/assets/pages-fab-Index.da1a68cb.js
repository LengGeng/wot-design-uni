import{g as e,l as a,i as t,m as l,t as o,p as s,c as u,j as i,H as d,b as n,d as c,e as r,f as m,a as v}from"./page-wraper.83fcb5aa.js";import{d as p,r as f,N as _,v as b,V as w,q as h,m as g,a6 as y,S as x,h as k,j as T,o as C,c as V,w as j,a as I,T as z,y as L,x as $,n as U,u as O,J as Q,i as F,E as H,e as q,b as S,F as X}from"./index-d8aee22c.js";import{_ as Y,a as E}from"./wd-radio-group.3a85a612.js";import{_ as G}from"./demo-block.4a3c27e6.js";import{_ as J}from"./wd-button.280621c4.js";import{p as K,r as N,q as W,c as A,u as B}from"./clickoutside.f4a6258f.js";import"./useChildren.11271381.js";const D=n(p({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...e,active:a(!1),type:t("primary"),position:t("right-bottom"),direction:t("top"),disabled:a(!1),inactiveIcon:t("add"),activeIcon:t("close"),zIndex:l(99),draggable:a(!1),gap:{type:Object,default:()=>({})}},emits:["update:active"],setup(e,{expose:a,emit:t}){const l=e,n=f(!1),c=f(!1),r=_(W,null),{proxy:m}=Q();b((()=>l.active),(e=>{c.value=e}),{immediate:!0,deep:!0}),b((()=>c.value),(e=>{e&&(r&&r.closeOther?r.closeOther(m):A(m))}));const v=f(l.direction);b((()=>l.direction),(e=>v.value=e)),b((()=>l.position),(()=>E()));const p=f(0),q=f(0),S=w({width:0,height:0}),X=f(56),Y=w({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function E(){const e=l.position,{minLeft:a,minTop:t,maxLeft:o,maxTop:s}=Y;"left-top"===e?(p.value=t,q.value=a):"right-top"===e?(p.value=t,q.value=o):"left-bottom"===e?(p.value=s,q.value=a):"right-bottom"===e&&(p.value=s,q.value=o)}const G=w({x:0,y:0}),B=f(!1);function D(e){if(!1===l.draggable)return;const a=e.touches[0];G.x=a.clientX-q.value,G.y=a.clientY-p.value,B.value=!1}function M(e){if(!1===l.draggable)return;const a=e.touches[0],{minLeft:t,minTop:o,maxLeft:s,maxTop:u}=Y;let i=a.clientX-G.x,d=a.clientY-G.y;i<t?i=t:i>s&&(i=s),d<o?d=o:d>u&&(d=u),p.value=d,q.value=i}function P(){if(!1===l.draggable)return;const e=S.width/2,a=q.value+X.value/2;B.value=!0,a<e?(q.value=Y.minLeft,v.value="right"):(q.value=Y.maxLeft,v.value="left")}const R=h((()=>{const e={top:p.value+"px",left:q.value+"px",transition:B.value?"all ease 0.3s":"none"};return o(l.zIndex)&&(e["z-index"]=l.zIndex),`${s(e)};${l.customStyle}`}));function Z(){l.disabled||(c.value=!c.value,t("update:active",c.value))}return g((()=>{r&&r.pushToQueue?r.pushToQueue(m):K(m),y((async()=>{await async function(){const e=H();try{const e=await d("#trigger",!1,m);X.value=e.width||56}catch(u){console.log(u)}const{top:a=16,left:t=16,right:o=16,bottom:s=16}=l.gap;S.width=e.windowWidth,S.height=e.windowTop+e.windowHeight,Y.minTop=e.windowTop+a,Y.minLeft=t,Y.maxLeft=S.width-X.value-o,Y.maxTop=S.height-X.value-s}(),E(),n.value=!0}))})),x((()=>{r&&r.removeFromQueue?r.removeFromQueue(m):N(m)})),a({open:function(){c.value=!0,t("update:active",!0)},close:function(){c.value=!1,t("update:active",!1)}}),(e,a)=>{const t=k(T("wd-icon"),u),l=k(T("wd-button"),J),o=F,s=k(T("wd-transition"),i);return C(),V(o,{onTouchmove:z(M,["stop","prevent"]),onTouchstart:D,onTouchend:P,class:U(`wd-fab ${e.customClass}`),style:L(O(R)),onClick:a[1]||(a[1]=z((()=>{}),["stop"]))},{default:j((()=>[I(o,{onClick:a[0]||(a[0]=z((()=>{}),["stop"])),style:L({visibility:n.value?"visible":"hidden"}),id:"trigger"},{default:j((()=>[I(l,{onClick:Z,"custom-class":"wd-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:j((()=>[I(t,{"custom-class":"wd-fab__icon",name:c.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"])])),_:1},8,["style"]),I(s,{"enter-class":`wd-fab__transition-enter--${v.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${v.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${v.value}`,show:c.value,duration:300,name:""},{default:j((()=>[$(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])])),_:3},8,["onTouchmove","class","style"])}}}),[["__scopeId","data-v-6e56da12"]]),M=n(p({__name:"Index",setup(e){const{show:a}=c(),t=f(!1),l=f("primary"),o=f("left-bottom"),s=f("top"),i=f(!1),d=f(!1),{closeOutside:n}=B();return(e,c)=>{const p=k(T("wd-toast"),r),f=k(T("wd-radio"),Y),_=k(T("wd-radio-group"),E),b=k(T("demo-block"),G),w=k(T("wd-switch"),m),h=F,g=k(T("wd-button"),J),y=k(T("wd-icon"),u),x=k(T("wd-fab"),D),V=k(T("page-wraper"),v);return C(),q(X,null,[I(p),I(h,{class:"fab",onClick:O(n)},{default:j((()=>[I(V,null,{default:j((()=>[I(b,{title:"悬浮按钮主题色"},{default:j((()=>[I(_,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=e=>l.value=e),inline:"",shape:"dot"},{default:j((()=>[I(f,{value:"primary","custom-class":"custom-radio"},{default:j((()=>[S("主要按钮")])),_:1}),I(f,{value:"success","custom-class":"custom-radio"},{default:j((()=>[S("成功按钮")])),_:1}),I(f,{value:"warning","custom-class":"custom-radio"},{default:j((()=>[S("警告按钮")])),_:1}),I(f,{value:"error","custom-class":"custom-radio"},{default:j((()=>[S("危险按钮")])),_:1}),I(f,{value:"info","custom-class":"custom-radio"},{default:j((()=>[S("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),I(b,{title:"悬浮按钮位置"},{default:j((()=>[I(_,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=e=>o.value=e),inline:"",shape:"dot"},{default:j((()=>[I(f,{value:"left-top","custom-class":"custom-radio"},{default:j((()=>[S("左上")])),_:1}),I(f,{value:"right-top","custom-class":"custom-radio"},{default:j((()=>[S("右上")])),_:1}),I(f,{value:"left-bottom","custom-class":"custom-radio"},{default:j((()=>[S("左下")])),_:1}),I(f,{value:"right-bottom","custom-class":"custom-radio"},{default:j((()=>[S("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),I(b,{title:"菜单弹出方向"},{default:j((()=>[I(_,{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=e=>s.value=e),inline:"",shape:"dot"},{default:j((()=>[I(f,{value:"top","custom-class":"custom-radio"},{default:j((()=>[S("向上")])),_:1}),I(f,{value:"bottom","custom-class":"custom-radio"},{default:j((()=>[S("向下")])),_:1}),I(f,{value:"right","custom-class":"custom-radio"},{default:j((()=>[S("向右")])),_:1}),I(f,{value:"left","custom-class":"custom-radio"},{default:j((()=>[S("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),I(b,{title:"禁用"},{default:j((()=>[I(h,{onClick:c[4]||(c[4]=z((()=>{}),["stop"]))},{default:j((()=>[I(w,{modelValue:i.value,"onUpdate:modelValue":c[3]||(c[3]=e=>i.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),I(b,{title:"可拖动"},{default:j((()=>[I(h,{onClick:c[6]||(c[6]=z((()=>{}),["stop"]))},{default:j((()=>[I(w,{modelValue:d.value,"onUpdate:modelValue":c[5]||(c[5]=e=>d.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),I(b,{title:"切换展示"},{default:j((()=>[I(h,{onClick:c[8]||(c[8]=z((()=>{}),["stop"]))},{default:j((()=>[I(g,{type:"primary",onClick:c[7]||(c[7]=e=>t.value=!t.value),round:""},{default:j((()=>[S("切换")])),_:1})])),_:1})])),_:1}),I(x,{active:t.value,"onUpdate:active":c[13]||(c[13]=e=>t.value=e),disabled:i.value,type:l.value,position:o.value,direction:s.value,draggable:d.value},{default:j((()=>[I(g,{onClick:c[9]||(c[9]=e=>O(a)("一键三连")),disabled:i.value,"custom-class":"custom-button",type:"primary",round:""},{default:j((()=>[I(y,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),I(g,{onClick:c[10]||(c[10]=e=>O(a)("我要收藏")),disabled:i.value,"custom-class":"custom-button",type:"success",round:""},{default:j((()=>[I(y,{name:"star",size:"22px"})])),_:1},8,["disabled"]),I(g,{onClick:c[11]||(c[11]=e=>O(a)("我要投币")),disabled:i.value,"custom-class":"custom-button",type:"error",round:""},{default:j((()=>[I(y,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),I(g,{onClick:c[12]||(c[12]=e=>O(a)("我要点赞")),disabled:i.value,"custom-class":"custom-button",type:"warning",round:""},{default:j((()=>[I(y,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"])])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-1e676114"]]);export{M as default};
