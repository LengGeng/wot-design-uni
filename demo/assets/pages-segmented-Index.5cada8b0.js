import{g as a,x as e,l as s,i as t,s as l,z as i,H as o,v as n,p as d,b as u,e as r,a as p}from"./page-wraper.83fcb5aa.js";import{d as v,V as c,q as m,v as f,m as _,o as b,c as g,w as y,e as h,F as w,f as x,n as I,u as k,a as j,x as z,b as S,t as $,y as C,am as U,i as q,J as H,r as N,h as A,j as F,l as G}from"./index-d8aee22c.js";import{_ as J}from"./demo-block.4a3c27e6.js";const T=u(v({name:"wd-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...a,value:e([String,Number]),disabled:s(!1),size:t("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:s(!1)},emits:["update:value","change","click"],setup(a,{emit:e}){const s=a,t=".wd-segmented__item",u=c({activeIndex:0,activeStyle:""}),r=m((()=>s.disabled||!(!s.options[0]||!l(s.options[0]))&&s.options[0].disabled));f((()=>s.value),(()=>{N(),v(),s.vibrateShort&&U({})}),{immediate:!1});const{proxy:p}=H();function v(a=!0){o(t,!0,p).then((e=>{const s=e[u.activeIndex],t={position:"absolute",width:n(s.width),"z-index":0},l=e.slice(0,u.activeIndex).reduce(((a,e)=>a+Number(e.width)),0);l&&(t.transform=`translateX(${l}px)`),a&&(t.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),u.activeStyle=d(t)}))}function N(){const a=s.options.findIndex((a=>(l(a)?a.value:a)==s.value));if(a>=0)u.activeIndex=a;else{const a=l(s.options[0])?s.options[0].value:s.options[0];e("update:value",a),e("change",l(s.options[0])?s.options[0]:{value:a})}}return _((()=>{N(),i((()=>{v(!1)}))})),(a,t)=>{const i=q;return b(),g(i,{class:I(`wd-segmented ${a.customClass}`),style:C(a.customStyle)},{default:y((()=>[(b(!0),h(w,null,x(a.options,((t,o)=>(b(),g(i,{class:I(`wd-segmented__item is-${a.size} ${u.activeIndex===o?"is-active":""} ${a.disabled||k(l)(t)&&t.disabled?"is-disabled":""}`),onClick:a=>function(a,t){if(s.disabled||l(a)&&a.disabled)return;const i=l(a)?a.value:a;u.activeIndex=t,v(),e("update:value",i),e("change",l(a)?a:{value:i}),e("click",l(a)?a:{value:i})}(t,o),key:o},{default:y((()=>[j(i,{class:"wd-segmented__item-label"},{default:y((()=>[a.$slots.label?z(a.$slots,"label",{key:0,option:k(l)(t)?t:{value:t}},void 0,!0):(b(),h(w,{key:1},[S($(k(l)(t)?t.value:t),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),j(i,{class:I("wd-segmented__item--active "+(k(r)?"is-disabled":"")),style:C(u.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-5fe3a9ff"]]),V=u(v({__name:"Index",setup(a){const e=N(["评论","点赞","贡献","打赏"]),s=N([{value:"李雷",disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/redpanda.jpg"}},{value:"韩梅梅",disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/capybara.jpg"}},{value:"林涛",disabled:!0,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/panda.jpg"}},{value:"Tom",disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/meng.jpg"}}]),t=N("简介"),l=N("详情"),i=N("评论"),o=N("打赏"),n=N("韩梅梅"),d=N("评论");function u(a){console.log(a)}return(a,v)=>{const c=A(F("wd-toast"),r),m=A(F("wd-segmented"),T),f=q,_=A(F("demo-block"),J),h=G,w=A(F("page-wraper"),p);return b(),g(f,null,{default:y((()=>[j(c),j(w,null,{default:y((()=>[j(_,{title:"大型分段器",transparent:""},{default:y((()=>[j(f,{class:"section"},{default:y((()=>[j(m,{options:e.value,value:t.value,"onUpdate:value":v[0]||(v[0]=a=>t.value=a),size:"large",onChange:u},null,8,["options","value"])])),_:1})])),_:1}),j(_,{title:"默认分段器",transparent:""},{default:y((()=>[j(f,{class:"section"},{default:y((()=>[j(m,{options:e.value,value:l.value,"onUpdate:value":v[1]||(v[1]=a=>l.value=a)},null,8,["options","value"])])),_:1})])),_:1}),j(_,{title:"小型分段器",transparent:""},{default:y((()=>[j(f,{class:"section"},{default:y((()=>[j(m,{options:e.value,value:i.value,"onUpdate:value":v[2]||(v[2]=a=>i.value=a),size:"small"},null,8,["options","value"])])),_:1})])),_:1}),j(_,{title:"带振动效果的分段器",transparent:""},{default:y((()=>[j(f,{class:"section"},{default:y((()=>[j(m,{options:e.value,value:o.value,"onUpdate:value":v[3]||(v[3]=a=>o.value=a),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1}),j(_,{title:"禁用分段器",transparent:""},{default:y((()=>[j(f,{class:"section"},{default:y((()=>[j(m,{options:e.value,value:d.value,"onUpdate:value":v[4]||(v[4]=a=>d.value=a),disabled:""},null,8,["options","value"])])),_:1})])),_:1}),j(_,{title:"自定义渲染分段器标签",transparent:""},{default:y((()=>[j(f,{class:"section"},{default:y((()=>[j(m,{options:s.value,value:n.value,"onUpdate:value":v[5]||(v[5]=a=>n.value=a),"vibrate-short":!0,onChange:u},{label:y((({option:a})=>[j(f,{class:"section-slot"},{default:y((()=>[j(h,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:a.payload.avatar},null,8,["src"]),j(f,{class:"name"},{default:y((()=>[S($(a.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-1ca24240"]]);export{V as default};
